<div class="page-header">
  <h1 class="page-title"><%= @employee.name %></h1>
</div>

<div class="card">
  <table class="table">
    <tbody>
      <tr>
        <th>社員番号</th>
        <td><%= @employee.employee_number %></td>
      </tr>
      <tr>
        <th>メールアドレス</th>
        <td><%= @employee.email %></td>
      </tr>
      <tr>
        <th>部署</th>
        <td><%= @employee.department&.name || "-" %></td>
      </tr>
      <tr>
        <th>権限</th>
        <td>
          <% if @employee.admin? %>
            <span class="badge badge-active">管理者</span>
          <% else %>
            一般
          <% end %>
        </td>
      </tr>
      <tr>
        <th>ステータス</th>
        <td>
          <% if @employee.active? %>
            <span class="badge badge-active">在籍</span>
          <% else %>
            <span class="badge badge-retired">退職 (<%= @employee.retired_at&.strftime("%Y/%m/%d") %>)</span>
          <% end %>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="section">
  <h2 class="section-title">作成した議事録</h2>

  <% if @meeting_minutes.any? %>
    <% @meeting_minutes.each do |minute| %>
      <div class="card">
        <div class="card-title">
          <%= link_to minute.title, meeting_minute_path(minute) %>
        </div>
        <div class="card-meta">
          <%= minute.meeting_date&.strftime("%Y年%m月%d日 %H:%M") || "日時未設定" %>
        </div>
      </div>
    <% end %>
  <% else %>
    <div class="empty-state">
      議事録がありません
    </div>
  <% end %>
</div>

<div class="detail-actions">
  <% if admin? %>
    <%= link_to "編集", edit_employee_path(@employee), class: "btn" %>
    <%= button_to "削除", employee_path(@employee), method: :delete, class: "btn btn-danger", data: { turbo_confirm: "本当に削除しますか？" } %>
  <% end %>
  <%= link_to "一覧に戻る", employees_path, class: "btn" %>
</div>
